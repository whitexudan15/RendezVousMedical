CREATE TABLE specialite (
	id INT PRIMARY KEY GENERATED BY DEFAULT ALWAYS AS IDENTIFY,
	nom VARCHAR(255) NOT NULL
);

CREATE TABLE patient (
	id INT PRIMARY KEY GENERATED ALWAYS AS IDENTIFY(
		START WITH 100001,
		MAXVALUE 20000
	),
	nom VARCHAR(100) NOT NULL,
	prenom VARCHAR(100) NOT NULL,
	email VARCHAR(100) NOT NULL,
	password VARCHAR(100) NOT NULL,
	age INT
);

CREATE TABLE medecin (
	id INT PRIMARY KEY GENERATED ALWAYS AS IDENTIFY(
		START WITH 200001,
		MAXVALUE 30000
	),
	nom VARCHAR(100) NOT NULL,
	prenom VARCHAR(100) NOT NULL,
	email VARCHAR(100) NOT NULL,
	password VARCHAR(100) NOT NULL,
	age INT,
	specialite INT NOT NULL,
	CONSTRAINT fk_specialite FOREIGN KEY (specialite)
		REFERENCES specialite(id)
		ON DELETE CASCADE
		ON UPDATE CASCADE
);

CREATE TABLE creneau (
	id INT PRIMARY KEY GENERATED BY DEFAULT ALWAYS AS IDENTIFY,
	heureDebut TIME NOT NULL,
	heureFin TIME NOT NULL,
	medecin INT NOT NULL,
	CONSTRAINT fk_medecin FOREIGN KEY (medecin)
		REFERENCES medecin(id)
		ON DELETE CASCADE
		ON UPDATE CASCADE
);

CREATE TABLE secretaire (
	id INT PRIMARY KEY GENERATED ALWAYS AS IDENTIFY(
		START WITH 300001,
		MAXVALUE 40000
	),
	nom VARCHAR(100) NOT NULL,
	prenom VARCHAR(100) NOT NULL,
	email VARCHAR(100) NOT NULL,
	password VARCHAR(255) NOT NULL,
	age INT
);

CREATE TABLE rdv (
	id INT PRIMARY KEY GENERATED BY DEFAULT ALWAYS AS IDENTIFY,
	dateProgrammation Date NOT NULL,
	datePrevu Date NOT NULL,
	heureDebut TIME NOT NULL,
	heureFin TIME NOT NULL,
	patient INT NOT NULL,
	medecin INT NOT NULL,
	CONSTRAINT fk_patient FOREIGN KEY (patient)
		REFERENCES patient(id)
		ON DELETE CASCADE
		ON UPDATE CASCADE,
	CONSTRAINT fk_medecin FOREIGN KEY (medecin)
		REFERENCES medecin(id)
		ON DELETE CASCADE
		ON UPDATE CASCADE
);